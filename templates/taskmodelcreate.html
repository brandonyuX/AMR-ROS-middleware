<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">

<!-- CSS only -->
<link rel="stylesheet" href="/static/css/bootstrap.min.css">
<!-- JavaScript Bundle with Popper -->
<script src="/static/js/jquery-3.6.0.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>

<title>M8M Resource Management</title>

<div id="nav-placeholder"></div>

</head>
<body>
    
    <main>
       <!-- PAGE Content -->  
       
       <section class="py-3 text-center container">
        <div class="row py-lg-5">
          <div class="col-lg-8 col-md-8 mx-auto">
            <h1 class="fw-light">M8M Resource Management Software</h1>
            <p class="lead text-muted">Task Model Creation</p>
            
          </div>
        </div>
      </section>
       <!-- <h1>Task Model Configuration</h1>
        <h4>Create Task Model</h4> -->
        
        <form method="POST">

          <div class="form-group row">
            <label for="tskmodno" class="col-sm-2 col-form-label">Task Model Number</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="tskmodno" name="tskmodno" placeholder="Task Model No" value={{tskmod}}>
            </div>
            
          </div>
         
          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-2 pt-0">Action</legend>
              <div class="col-sm-10">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="Move" checked>
                  <label class="form-check-label" for="gridRadios1">
                    Move
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="Unload">
                  <label class="form-check-label" for="gridRadios2">
                    Unload
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios3" value="Load">
                  <label class="form-check-label" for="gridRadios3">
                    Load
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios4" value="CustomCommand">
                  <label class="form-check-label" for="gridRadios4">
                    Custom Command
                  </label>
                </div>
              </div>
            </div>
          </fieldset>
          <div class="form-group row">
            <label for="custcmd" class="col-sm-2 col-form-label" >Custom Command</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="custcmd" name="custcmd" placeholder="Custom Command" disabled>
            </div>
          </div>
        
       
        
      

      <table class="table">
        <tr>
            <th>Action Type</th>
            <th>Step</th>
            <th>Command</th>
        </tr>

        <!-- here is a for-loop to give us all the tasks -->
        {% for subtsk in subtsklist %}
        <tr>
            <td>{{ subtsk.at }}</td>
            <td>{{ subtsk.currstep }}</td>
            <td>{{ subtsk.cmd }}</td>
        </tr>
        {% endfor %}
    </table>
    
    
      <div class="d-grid gap-2 col-4 mx-auto">
        <button type="submit" name="type" value="addstep" class="btn btn-primary">Add Step</button>
        <button class="btn btn-success btn-block" type="submit" name="type" value="createtm" >Create Task Model</button>
        <button class="btn btn-danger btn-block" type="submit" name="type" value="clear" >Clear Sub Task</button>
      </div>
    </form>
      
    
   
    
    

       


    </main>


    

    <body class="d-flex flex-column min-vh-100">
      <div class="wrapper flex-grow-1"></div>
      <footer><p>Copyright &copy; 2022 M8M Pte Ltd</p></footer>
  </body>
</body>

<script>

$(document).ready(function() {

  $("#nav-placeholder").load("/navbar");

});
  var radios = document.querySelectorAll('[name=gridRadios]');
  Array.from(radios).forEach(function(r){
  r.addEventListener('click', function(){
    var cmdtxt = document.getElementById('custcmd');
    if(this.id == 'gridRadios4')
      cmdtxt.removeAttribute('disabled');
    else
      cmdtxt.setAttribute('disabled', 'disabled');
  });
});
</script>



</html>